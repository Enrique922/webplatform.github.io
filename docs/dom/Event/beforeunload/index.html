<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs with-toc">
  <head>
    <meta charset="UTF-8" />
    <title>beforeunload · WebPlatform Docs</title>
    <link rel="stylesheet" href="/assets/css/docs.css" />
    <link rel="stylesheet" href="/assets/css/highlight.css" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
    <!--[if lt IE 7]><script src="/bower_components/ie7-js/lib/IE7.js"></script><![endif]-->
    <!--[if lt IE 8]><script src="/bower_components/ie7-js/lib/IE8.js"></script><![endif]-->
    <!--[if lt IE 9]><script src="/bower_components/ie7-js/lib/IE9.js"></script><![endif]-->
    <!--[if lt IE 8]><link rel="stylesheet" href="/assets/css/ie7.css"><![endif]-->
    <meta property="readiness" content="In Progress" />
    
    
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/vue/dist/vue.min.js"></script>
  </head>
  <body class="mediawiki ltr sitedir-ltr skin-webplatform action-view">
    <div class="readiness-state In_Progress"><p>This page is <a>In Progress</a></p></div>
    <header id="mw-head" class="noprint">
      <div class="container">
        <div id="p-logo">
            <a href="/"  title="Visit the home page"></a>
        </div>
      </div>
    </header>
    <nav id="sitenav">
    <div class="container">
      <ul class="links">
          <li><a href="/" class="active">THE DOCS</a></li>
          <li><a href="/docs/Community">CONNECT</a></li>
          <li><a href="/docs/WPD/Contributors_Guide/">CONTRIBUTE</a></li>
          <li><a href="/blog/">BLOG</a></li>
      </ul>
    </div>
    </nav>

    <div id="siteNotice">
      <div id="localNotice" dir="ltr" lang="en">
    
        <div class="notice" style="margin:10px auto; position: relative; width: 90%; max-width: 950px;">
          <div style="padding: 10px; border-radius: 4px; background-color: rgb(249, 247, 243); box-shadow: 0px 0px 1px rgb(167, 169, 172);">
            <strong>Notice:</strong>&nbsp;The WebPlatform project, supported by various stewards between 2012 and 2015, has been <b>discontinued</b>. This site is now available on <a href="https://github.com/webplatform/webplatform.github.io/">github</a>.
          </div>
        </div>
    
      </div>
    </div>

    <div id="content" class="mw-body">
      <div class="container">
        <a id="top"></a>
        <div class="tool-area">
              <div id="hierarchy-menu">
                  <ol id="breadcrumb-info" class="breadcrumbs">
                    <li><a href="/">DOCS</a></li>
                  	<li><a href="/docs/dom/">dom</a></li><li><a href="/docs/dom/Event/">Event</a></li><li><a href="/dom/Event/beforeunload/">beforeunload</a></li>
                  </ol>
              </div>
        </div>
        <div id="page">
          <div id="page-content">
            <div id="main-content">

<h1>beforeunload</h1>
<h2>Overview Table</h2>
<table class="wikitable">
<tr>
<th>
Synchronous
</th>
<td>
No
</td>
</tr>
<tr>
<th>
Bubbles
</th>
<td>
No
</td>
</tr>
<tr>
<th>
Target
</th>
<td>
dom/Element
</td>
</tr>
<tr>
<th>
Cancelable
</th>
<td>
No
</td>
</tr>
<tr>
<th>
Default action
</th>
<td>
 ?
</td>
</tr>
</table>
## Examples
<p>This example uses the <strong>onbeforeunload</strong> event to ask users whether they want to remain on the current document or navigate to a new URL. When the user clicks on the hyperlink or attempts to close the window, the <strong>onbeforeunload</strong> event fires on the <strong>body</strong> and a dialog box displays. If the user chooses <strong>OK</strong>, the document navigates to the new URL (www.microsoft.com) or closes the window; if the user chooses <strong>Cancel</strong>, the document remains the same.</p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-title">HTML</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeIt</span>(<span class="hljs-params"></span>)
</span>{
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Any string value here forces a dialog box to \n"</span> +
         <span class="hljs-string">"appear before closing the window."</span>;
}
<span class="hljs-built_in">window</span>.onbeforeunload = closeIt;
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"http://www.microsoft.com"</span>&gt;</span>Click here to navigate to
      www.microsoft.com<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<p><a href="http://samples.msdn.microsoft.com/workshop/samples/author/dhtml/refs/onbeforeunload.htm">View live example</a></p>
<h2>Notes</h2>
<h3>Remarks</h3>
<p>When a string is assigned to the <strong>returnValue</strong> property of <strong>window</strong>.<strong>event</strong>, a dialog box appears that gives users the option to stay on the current document and retain the string that was assigned to it. The default statement that appears in the dialog box, &quot;<code>Are you sure you want to navigate away from this page? ... Press OK to continue, or Cancel to stay on the current page.</code>&quot;, cannot be removed or altered.</p>
<h4>onbeforeunload in Metro style apps using JavaScript</h4>
<p>In Metro style apps using JavaScript, the <strong>returnValue</strong> property of <strong>window</strong>.<strong>event</strong> is always ignored and <strong>onunload</strong> will fire immediately. No dialog is shown to the user and the navigation can’t be cancelled. Note that, in most cases, the app should never navigate its top-level document. Metro style apps using JavaScript should use <strong>oncheckpoint</strong> event to determine when they need to save state information.</p>
<h4>General info</h4>
<p>This event signals that the document is about to be unloaded. To invoke this event, do one of the following:</p>
<ul>
<li>Close the current window.</li>
<li>Navigate to another location by entering a new address or selecting a Favorite.</li>
<li>Click an <a href="/docs/html/elements/a"><strong>anchor</strong></a> that refers to another document.</li>
<li>Invoke the <a href="/docs/html/elements/a"><strong>anchor</strong></a>.<a href="/docs/dom/HTMLElement/click"><strong>click</strong></a> method.</li>
<li>Invoke the <a href="/docs/dom/Document"><strong>Document</strong></a>.<a href="/docs/dom/Document/write"><strong>write</strong></a> method.</li>
<li>Invoke the <a href="/docs/dom/Document"><strong>Document</strong></a>.<a href="/docs/dom/Document/close"><strong>close</strong></a> method.</li>
<li>Invoke the <strong>window</strong>.<a href="/docs/dom/Window/close"><strong>close</strong></a> method.</li>
<li>Invoke the <a href="/docs/dom/Location"><strong>location</strong></a>.<a href="/docs/dom/Location/replace"><strong>replace</strong></a> method.</li>
<li>Invoke the <a href="/docs/dom/Location"><strong>location</strong></a>.<a href="/docs/dom/Location/reload"><strong>reload</strong></a> method.</li>
<li>Specify a new value for the <a href="/docs/dom/Location"><strong>location</strong></a>.<a href="/docs/dom/Location/href"><strong>href</strong></a> property.</li>
<li>Submit a <strong>form</strong> to the address specified in the <strong>ACTION</strong> attribute via the <strong>INPUT type=submit</strong> control, or invoke the <strong>form</strong>.<a href="/docs/dom/HTMLFormElement/submit"><strong>submit</strong></a> method.</li>
<li>Invoke the <strong>window</strong>.<a href="/docs/dom/Window/open"><strong>open</strong></a> method, providing the possible value <strong>_self</strong> for the window name.</li>
<li>Invoke the <a href="/docs/dom/Document"><strong>Document</strong></a>.<a href="/docs/dom/Document/open"><strong>open</strong></a> method.</li>
<li>Click the Back, Forward, Refresh, or Home button.</li>
</ul>
<p>The <em>pEvtObj</em> parameter is required for the following interfaces:</p>
<ul>
<li><strong>HTMLAnchorEvents2</strong></li>
<li><strong>HTMLAreaEvents2</strong></li>
<li><strong>HTMLButtonElementEvents2</strong></li>
<li><strong>HTMLControlElementEvents2</strong></li>
<li><strong>HTMLDocumentEvents2</strong></li>
<li><strong>HTMLElementEvents2</strong></li>
<li><strong>HTMLFormElementEvents2</strong></li>
<li><strong>HTMLImgEvents2</strong></li>
<li><strong>HTMLFrameSiteEvents2</strong></li>
<li><strong>HTMLInputFileElementEvents2</strong></li>
<li><strong>HTMLInputImageEvents2</strong></li>
<li><strong>HTMLInputTextElementEvents2</strong></li>
<li><strong>HTMLLabelEvents2</strong></li>
<li><strong>HTMLLinkElementEvents2</strong></li>
<li><strong>HTMLMapEvents2</strong></li>
<li><strong>HTMLMarqueeElementEvents2</strong></li>
<li><strong>HTMLObjectElementEvents2</strong></li>
<li><strong>HTMLOptionButtonElementEvents2</strong></li>
<li><strong>HTMLScriptEvents2</strong></li>
<li><strong>HTMLSelectElementEvents2</strong></li>
<li><strong>HTMLStyleElementEvents2</strong></li>
<li><strong>HTMLTableEvents2</strong></li>
<li><strong>HTMLTextContainerEvents2</strong></li>
<li><strong>HTMLWindowEvents2</strong></li>
</ul>
<h3>Syntax</h3>
<h3>Standards information</h3>
<p>There are no standards that apply here.</p>
<h3>Event handler parameters</h3>
<dl>
<dt><em>pEvtObj</em> [in]</dt>
<dd>Type: ****IHTMLEventObj****
</dd>
</dl>

<h2>Attributions</h2>
<ul>
	<li><p>Microsoft Developer Network: [<a href="http://msdn.microsoft.com/en-us/library/ie/hh828809%28v=vs.85%29.aspx">Windows Internet Explorer API reference</a> Article]</p>
</li>
</ul>
            </div>
            <div class="topics-nav">
              <ul>
                <li><a href="/docs/Beginners">Beginners</a></li>
                <li><a href="/docs/concepts">Concepts</a></li>
                <li><a href="/docs/html">HTML</a></li>
                <li><a href="/docs/css">CSS</a></li>
                <li><a href="/docs/concepts/accessibility">Accessibility</a></li>
                <li><a href="/docs/javascript">JavaScript</a></li>
                <li><a href="/docs/dom">DOM</a></li>
                <li><a href="/docs/svg">SVG</a></li>
              </ul>
            </div>
            <div class="clear"></div>
          </div>
        </div>
      </div>
    </div>
    <footer id="mw-footer">
      <div class="container">
        <div id="footer-wordmark">
          <a href="https://github.com/webplatform/docs/blob/master/LICENSE.md" class="license">
            <img src="/assets/cc-by-black.svg" width="120" height="42" alt="Content available under CC-BY, except where otherwise noted.">
          </a>
          <a href="/"><span id="footer-title">WebPlatform<span id="footer-title-light">.org</span></span></a>
        </div>
        <!-- ul class="stewards">
          <li class="steward-w3c"><a href="/stewards/w3c">W3C</a></li>
        </ul -->
      </div>
    </footer>
    <script src="/assets/js/docs.js"></script>
  </body>
</html>
