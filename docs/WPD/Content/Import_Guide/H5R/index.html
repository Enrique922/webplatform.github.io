<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs with-toc">
  <head>
    <meta charset="UTF-8" />
    <title>H5R · WebPlatform Docs</title>
    <link rel="stylesheet" href="/assets/css/docs.css" />
    <link rel="stylesheet" href="/assets/css/highlight.css" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
    <!--[if lt IE 7]><script src="/bower_components/ie7-js/lib/IE7.js"></script><![endif]-->
    <!--[if lt IE 8]><script src="/bower_components/ie7-js/lib/IE8.js"></script><![endif]-->
    <!--[if lt IE 9]><script src="/bower_components/ie7-js/lib/IE9.js"></script><![endif]-->
    <!--[if lt IE 8]><link rel="stylesheet" href="/assets/css/ie7.css"><![endif]-->
    
    
    
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/vue/dist/vue.min.js"></script>
  </head>
  <body class="mediawiki ltr sitedir-ltr skin-webplatform action-view">
    
    <header id="mw-head" class="noprint">
      <div class="container">
        <div id="p-logo">
            <a href="/"  title="Visit the home page"></a>
        </div>
      </div>
    </header>
    <nav id="sitenav">
    <div class="container">
      <ul class="links">
          <li><a href="/" class="active">THE DOCS</a></li>
          <li><a href="/docs/Community">CONNECT</a></li>
          <li><a href="/docs/WPD/Contributors_Guide/">CONTRIBUTE</a></li>
          <li><a href="/blog/">BLOG</a></li>
      </ul>
    </div>
    </nav>

    <div id="siteNotice">
      <div id="localNotice" dir="ltr" lang="en">
    
        <div class="notice" style="margin:10px auto; position: relative; width: 90%; max-width: 950px;">
          <div style="padding: 10px; border-radius: 4px; background-color: rgb(249, 247, 243); box-shadow: 0px 0px 1px rgb(167, 169, 172);">
            <strong>Notice:</strong>&nbsp;The WebPlatform project, supported by various stewards between 2012 and 2015, has been <b>discontinued</b>. This site is now available on <a href="https://github.com/webplatform/webplatform.github.io/">github</a>.
          </div>
        </div>
    
      </div>
    </div>

    <div id="content" class="mw-body">
      <div class="container">
        <a id="top"></a>
        <div class="tool-area">
              <div id="hierarchy-menu">
                  <ol id="breadcrumb-info" class="breadcrumbs">
                    <li><a href="/">DOCS</a></li>
                  	<li><a href="/docs/WPD/Content/">WPD/Content</a></li><li><a href="/docs/WPD/Content/Import_Guide/">Import Guide</a></li><li><a href="/docs/WPD/Content/Import_Guide/H5R/">H5R</a></li>
                  </ol>
              </div>
        </div>
        <div id="page">
          <div id="page-content">
            <div id="main-content">

<h1>H5R</h1>
<p>These instructions are specific to importing content from <a href="http://www.html5rocks.com/">HTML5Rocks!</a></p>
<h2>Initial conversion</h2>
<p>Here’s what you do to get the content into wiki format.</p>
<ol>
<li><p>From the <a href="https://docs.google.com/a/google.com/spreadsheet/ccc?key=0AkRs-89PKiZpdHBqN2poNnJjV1c0N1FCYlN3ZUtpZ3c&amp;pli=1#gid=0">Content Batches spreadsheet</a>, copy the WPD URL for the article you intend to create.</p></li>
<li><p>In a new window, open the <a href="/docs/WPD/New_Page">WPD/New_Page</a> page.</p></li>
<li><p>Scroll down to the page type for the article (e.g., Tutorial).</p></li>
<li><p>In the text field, paste the WPD URL, and click Create Tutorial Page.</p></li>
<li><p>From the Content Batches spreadsheet, open the original HTML5Rocks! article using the Existing URL.</p></li>
<li><p>Open the <a href="http://toolserver.org/~diberri/cgi-bin/html2wiki/index.cgi">html-to-wiki converter</a> page.</p></li>
<li><p>Open the original HTML5Rocks! article by adding the <code>?ModPagespeed=off</code> parameter to the URL.</p></li>
<li><p>Next, do one of the following:</p>
<ul>
<li>In the original article, View Source, select all content, and copy; in the converter, choose the “Raw HTML” radio button, and paste the source into the HTML Source box.</li>
<li>In the original article, copy the full HTML5Rocks! URL (with the <code>?ModPagespeed=off</code>); in the converter, choose the “Fetch from URL” radio button, and paste the original URL into the text field.</li>
</ul></li>
<li><p>Under Options, choose “MediaWiki” from the dropdown as the output type.</p></li>
<li><p>Check &quot;Escape HTML entities&quot;.</p></li>
<li><p>Click &quot;Convert HTML to wiki markup&quot;. The converted markup appears in the MediaWiki markup box at the top of the page.</p></li>
<li><p>In the MediaWiki markup box, select all text, and copy.</p></li>
<li><p>In the new WPD page, past the new wiki code into the Content field, and click Save page.</p></li>
</ol>
<p>That gets the main content into a new page.</p>
<p><em>Note:</em> If the above converter won’t load (we’ve been getting a 503 Bad Gateway error lately), try <a href="http://labs.seapine.com/htmltowiki.cgi">this one</a>. It’s copy-and-paste only, but if it works, it works.</p>
<h2>Clean up</h2>
<p>There will be a lot of cruft - stuff that you’ll delete or otherwise fix.</p>
<ol>
<li>In the new WPD page, click the EDIT button.</li>
<li>In the Content field, remove everything up to the title - usually an H1 marked with a single '=’. You’ll remove it later as well, but save it for now.</li>
<li>Remove everything between the title and the “by” line; again, you’ll remove it later, but you need the data for the moment. Same for &quot;publish date&quot;.</li>
<li>Keep the Supported Browsers information (again, temporarily) but remove everything between the last browser “supported” or “unsupported” (i.e., “Your browser may …” and so on) and the first subheading of the article (probably marked with ==s), including Table of Contents information.</li>
<li>Scroll down to the last line of article content, and remove everything after it, including the page content license blather, the page comments, JavaScript references, etc.</li>
<li>Remove any double line breaks except those meant to start a new paragraph.</li>
<li>Save the article and have a look.</li>
</ol>
<h2>&lt;h2&gt;s with IDs</h2>
<p>The converter should change HTML &lt;h2&gt; headings to double-equals wiki headings. However, many of our articles “deep link” to specific heading points in other articles. Those targets have IDs, and the IDs must be preserved for the links to continue to work. So after conversion, review the original article’s source code for h2s with IDs. If you find any, change the converted double-equals headings <em>back</em> to standard HTML syntax and include the original ID. Thus:</p>
<pre><code>==Introduction==
</code></pre>
<p>becomes</p>
<pre><code>&lt;h2 id=&quot;toc-intro&quot;&gt;Introduction&lt;/h2&gt;
</code></pre>
<p>as it appeared in the original article.</p>
<h2>Fix broken links</h2>
<p>Check the content for links. They should be of the form:</p>
<pre><code>[http://www.google.com Google]
</code></pre>
<p>Make sure that all URLs are fully qualified. External URLs will already be fully qualified, but links back to existing HTML5Rocks! articles will probably not be, and they won’t work from the new WPD domain. That is:</p>
<pre><code>Original link:
[/tutorials/casestudies/onslaught/ Onslaught]

Corrected link:
[http://www.html5rocks.com/tutorials/casestudies/onslaught/ Onslaught]
</code></pre>
<h2>iframe content</h2>
<p>Some of the articles we’re migrating may have content that appears in an iframe. WikiMedia does not support iframes, so the best we can do is create a link to the content. In HTML5Rocks! usually the iframe has both code and layout from the playground. If the iframe contains a code sample, cut and paste the code sample into the article and put it in a <code>&lt;pre&gt;...&lt;/pre&gt;</code> block. If the iframe contains a sample page (that runs some wiz-bang doohicky), create a link to the page and tell the user what’s happening, something like this:</p>
<pre><code>You can see a live demo of this game  [http://www.html5rocks.com/tutorials/casestudies/onslaught/ here].
</code></pre>
<p>See the <a href="/docs/tutorials/audio_tag">audio tag</a> WPD article for examples of this workaround.</p>
<h2>Images</h2>
<p>Images: To get any images from the original article into your new version, you must save the images locally, fix the image references in your new code, and then upload them to your more-or-less finished product.</p>
<p>One good way to do this, especially if there are loads of images, is to go to the original article page and select <code>File &gt; Save as... &gt; Web page, complete</code> (or your browser’s equivalent). This will save a copy of the page you are on, with all the images and other assets associated with a page saved along with it, in a subfolder, in one go.</p>
<p>If there are only a few images, you can right-click on each one and save them locally with a name of your choosing. Either way, you have to get the article’s images onto your local drive.</p>
<p>Next, for each image, you need to create (or correct) the wiki markup tag that signifies you want to insert an image, in this format:</p>
<pre><code>[[Image:filename.jpg|alt text]]
</code></pre>
<p>Use the file name and extension for the image as saved to your local drive. When you next save the page, the image code will appear as a red (i.e., broken) link. Click on this link to go to an admin page where you can choose to upload the image you want to appear there. Select the image and let the page load a preview; this will also check that the image type matches the file extension, which is handy. Then click Upload, which actually uploads the file.</p>
<p>After the file is uploaded, click the link at the bottom of the upload page to return to your original article. The image should appear in place of the red link. Repeat for each image.</p>
<h2>Filling in the boxes</h2>
<p>The next piece of work is to fill in the meta data and other form content for the article.</p>
<p><strong>Note:</strong> The wiki layout puts the checkbox to the left of the label.</p>
<ol>
<li>Edit the article.</li>
<li>At the top, always check High-level issues: Needs flags.</li>
<li>Check other flags that apply.</li>
<li>Fill in a short Summary. Be mindful of SEO.</li>
<li>At the bottom, in the Topics section, check all that apply.</li>
<li>Under External Attribution, check whichever applies (HTML5Rocks! in this case), and provide the original link in the text box. <strong>Important:</strong> If the H5R URL contains “en/” in the path, remove it. That is, if the original article URL is <code>http://www.html5rocks.com/en/tutorials/eventsource/basics/</code>, change it to <code>http://www.html5rocks.com/tutorials/eventsource/basics/</code>.</li>
</ol>
<h2>Author and publish date</h2>
<p>Enter the original author’s name, their profile link, and the publish (and update) date(s) in the form fields. Delete the original info from the content box.</p>
<h2>Compatibility table</h2>
<p>In the Content field, move all the Supported Browser content down to the end of the content to make it easier to reference when you are filling out the compatibility table. Do not make manual tables; use the compatibility table buttons in the form. You can use the original author’s info as reference, but it may be out of date. Always get the latest information from <a href="http://caniuse.com/">caniuse.com</a>.</p>
<p>When you have the compatibility tables filled out, delete the original supported browsers info from the content box.</p>
<h2>Housekeeping</h2>
<p>When you’ve finished an article, fill in the Status column of the spreadsheet: provide a status and your initials (i.e. Done - sr). Other people may be converting some articles in the same list, so always check the status column before you begin.</p>

<!-- Attributions: None declared for this document. -->
            </div>
            <div class="topics-nav">
              <ul>
                <li><a href="/docs/Beginners">Beginners</a></li>
                <li><a href="/docs/concepts">Concepts</a></li>
                <li><a href="/docs/html">HTML</a></li>
                <li><a href="/docs/css">CSS</a></li>
                <li><a href="/docs/concepts/accessibility">Accessibility</a></li>
                <li><a href="/docs/javascript">JavaScript</a></li>
                <li><a href="/docs/dom">DOM</a></li>
                <li><a href="/docs/svg">SVG</a></li>
              </ul>
            </div>
            <div class="clear"></div>
          </div>
        </div>
      </div>
    </div>
    <footer id="mw-footer">
      <div class="container">
        <div id="footer-wordmark">
          <a href="https://github.com/webplatform/docs/blob/master/LICENSE.md" class="license">
            <img src="/assets/cc-by-black.svg" width="120" height="42" alt="Content available under CC-BY, except where otherwise noted.">
          </a>
          <a href="/"><span id="footer-title">WebPlatform<span id="footer-title-light">.org</span></span></a>
        </div>
        <!-- ul class="stewards">
          <li class="steward-w3c"><a href="/stewards/w3c">W3C</a></li>
        </ul -->
      </div>
    </footer>
    <script src="/assets/js/docs.js"></script>
  </body>
</html>
