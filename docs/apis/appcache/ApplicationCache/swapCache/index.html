<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs with-toc">
  <head>
    <meta charset="UTF-8" />
    <title>swapCache · WebPlatform Docs</title>
    <link rel="stylesheet" href="/assets/css/docs.css" />
    <link rel="stylesheet" href="/assets/css/highlight.css" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
    <!--[if lt IE 7]><script src="/bower_components/ie7-js/lib/IE7.js"></script><![endif]-->
    <!--[if lt IE 8]><script src="/bower_components/ie7-js/lib/IE8.js"></script><![endif]-->
    <!--[if lt IE 9]><script src="/bower_components/ie7-js/lib/IE9.js"></script><![endif]-->
    <!--[if lt IE 8]><link rel="stylesheet" href="/assets/css/ie7.css"><![endif]-->
    
    <meta property="standardization" content="W3C Editor&#x27;s Draft" />
    <meta name="description" content="Switches to the most recent application cache, if there is a newer one. If there isn&#x27;t, throws an InvalidStateError exception.
    " />
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/vue/dist/vue.min.js"></script>
  </head>
  <body class="mediawiki ltr sitedir-ltr skin-webplatform action-view">
    
    <header id="mw-head" class="noprint">
      <div class="container">
        <div id="p-logo">
            <a href="/"  title="Visit the home page"></a>
        </div>
      </div>
    </header>
    <nav id="sitenav">
    <div class="container">
      <ul class="links">
          <li><a href="/" class="active">THE DOCS</a></li>
          <li><a href="/docs/Community">CONNECT</a></li>
          <li><a href="/docs/WPD/Contributors_Guide/">CONTRIBUTE</a></li>
          <li><a href="/blog/">BLOG</a></li>
      </ul>
    </div>
    </nav>

    <div id="siteNotice">
      <div id="localNotice" dir="ltr" lang="en">
    
        <div class="notice" style="margin:10px auto; position: relative; width: 90%; max-width: 950px;">
          <div style="padding: 10px; border-radius: 4px; background-color: rgb(249, 247, 243); box-shadow: 0px 0px 1px rgb(167, 169, 172);">
            <strong>Notice:</strong>&nbsp;The WebPlatform project, supported by various stewards between 2012 and 2015, has been <b>discontinued</b>. This site is now available on <a href="https://github.com/webplatform/webplatform.github.io/">github</a>.
          </div>
        </div>
    
      </div>
    </div>

    <div id="content" class="mw-body">
      <div class="container">
        <a id="top"></a>
        <div class="tool-area">
              <div id="hierarchy-menu">
                  <ol id="breadcrumb-info" class="breadcrumbs">
                    <li><a href="/">DOCS</a></li>
                  	<li><a href="/docs/apis/">apis</a></li><li><a href="/docs/apis/appcache/">appcache</a></li><li><a href="/apis/appcache/ApplicationCache/">ApplicationCache</a></li><li><a href="/apis/appcache/ApplicationCache/swapCache/">swapCache</a></li>
                  </ol>
              </div>
        </div>
        <div id="page">
          <div id="page-content">
            <div id="main-content">

<h1>swapCache</h1>
<h2>Summary</h2>
<p>Switches to the most recent application cache, if there is a newer one. If there isn’t, throws an InvalidStateError exception.</p>
<p>This does not cause previously-loaded resources to be reloaded; for example, images do not suddenly get reloaded and style sheets and scripts do not get reparsed or reevaluated. The only change is that subsequent requests for cached resources will obtain the newer copies.</p>
<p>The <strong>updateready</strong> event will fire before this method can be called. Once it fires, the Web application can, at its leisure, call this method to switch the underlying cache to the one with the more recent updates. To make proper use of this, applications have to be able to bring the new features into play; for example, reloading scripts to enable new features. An easier alternative to <code>swapCache()</code> is just to reload the entire page at a time suitable for the user, using <code>location.reload()</code>.</p>
<p>Method of <a href="/docs/apis/appcache/ApplicationCache">apis/appcache/ApplicationCache</a><a href="/docs/apis/appcache/ApplicationCache">apis/appcache/ApplicationCache</a></p>
<h2>Syntax</h2>
<pre><code class="js"> <span class="hljs-built_in">window</span>.applicationCache.swapCache();
</code></pre>
<h2>Return Value</h2>
<p>No return value</p>
<h2>Examples</h2>
<pre><code class="js"><span class="hljs-comment">// Attempt to update the user's cache.</span>
<span class="hljs-built_in">window</span>.applicationCache.update();

…

<span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.applicationCache.status === <span class="hljs-built_in">window</span>.applicationCache.UPDATEREADY) {
  <span class="hljs-comment">// The fetch was successful, swap in the new cache.</span>
  <span class="hljs-built_in">window</span>.applicationCache.swapCache();
}
</code></pre>
<h2>Usage</h2>
<pre><code> In order to swap an old cache out for a new one, call update first. When the status is in the UPDATEREADY state, calling swapCache will make the swap.
</code></pre>
<p>Calling <strong>swapCache</strong> will not update any content on your page. It will simply allow your webpage to be able to access any further dynamic content from the new cache instead of the old one. After the page is refreshed, the newly created cache will be used for all in-page and dynamic requests. The <strong>swapCache</strong> method is provided for convenience but is not necessary for basic functionality. Loading or refreshing the page is sufficient. For example, refreshing the page after an <strong>UpdateReady</strong> event will reload the page from the new cache without a call to <strong>swapCache</strong>.</p>
<p><strong>swapCache</strong> does not cause previously-loaded resources to be reloaded; for example, images do not suddenly get reloaded, and style sheets and scripts do not get reparsed or reevaluated. The only change is that subsequent requests for cached resources will obtain the newer copies.</p>
<h2>Related specifications</h2>
<dl>
<dt><a href="http://dev.w3.org/html5/spec/single-page.html#application-cache-api">W3C ApplicationCache Specification</a></dt>
<dd>W3C Editor’s Draft
</dd>
</dl>

<h2>Attributions</h2>
<ul>
	<li><p>Microsoft Developer Network: <a href="http://msdn.microsoft.com/en-us/library/ie/hh828809%28v=vs.85%29.aspx">Article</a></p>
</li>
	<li><p>Portions of this content come from HTML5Rocks! <a href="http://www.html5rocks.com/en/tutorials/appcache/beginner/">article</a></p>
</li>
</ul>
            </div>
            <div class="topics-nav">
              <ul>
                <li><a href="/docs/Beginners">Beginners</a></li>
                <li><a href="/docs/concepts">Concepts</a></li>
                <li><a href="/docs/html">HTML</a></li>
                <li><a href="/docs/css">CSS</a></li>
                <li><a href="/docs/concepts/accessibility">Accessibility</a></li>
                <li><a href="/docs/javascript">JavaScript</a></li>
                <li><a href="/docs/dom">DOM</a></li>
                <li><a href="/docs/svg">SVG</a></li>
              </ul>
            </div>
            <div class="clear"></div>
          </div>
        </div>
      </div>
    </div>
    <footer id="mw-footer">
      <div class="container">
        <div id="footer-wordmark">
          <a href="https://github.com/webplatform/docs/blob/master/LICENSE.md" class="license">
            <img src="/assets/cc-by-black.svg" width="120" height="42" alt="Content available under CC-BY, except where otherwise noted.">
          </a>
          <a href="/"><span id="footer-title">WebPlatform<span id="footer-title-light">.org</span></span></a>
        </div>
        <!-- ul class="stewards">
          <li class="steward-w3c"><a href="/stewards/w3c">W3C</a></li>
        </ul -->
      </div>
    </footer>
    <script src="/assets/js/docs.js"></script>
  </body>
</html>
